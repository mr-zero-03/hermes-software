import{Q as B}from"./QPage.a4ec28e2.js";import{D as d,R as g,H as t,F as a,O as o,L as m,M as h,E as p,Q as E,G as y,T as D,S as P,I as c,B as w,N as A}from"./index.fbf81f8b.js";import{e as I,C,a as S,v as N,b as V,c as Q,d as L}from"./v4.abf2165f.js";import{u as U,Q as z}from"./products.598c9e01.js";import{Q as v,a as F}from"./QCard.42f01069.js";import{Q as _,a as q}from"./QCardActions.746e4521.js";import{Q as T}from"./QSeparator.ee139416.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";import"./QItem.02e266b5.js";import"./use-dark.b51b21d9.js";import"./use-timeout.edde8f2c.js";const j={emits:["save","delete"],props:{createAction:{type:Boolean,default:!0},userData:{type:Object}},data(){return{categories:[{label:"Deportes",value:"deportes"},{label:"Calzado",value:"calzado"},{label:"Masculino",value:"masculino"},{label:"Femenino",value:"femenino"},{label:"Ropa",value:"ropa"},{label:"Comida",value:"comida"},{label:"Cosmeticos",value:"cosmeticos"},{label:"Electrodomesticos",value:"electrodomesticos"},{label:"Tecnologia",value:"tecnologia"},{label:"Vehiculos",value:"vehiculos"}],deleteModal:!1,dataForm:this.userData}},methods:{onSave(){this.$emit("save")},onDelete(){const n=this.userData.id;this.$emit("delete",n)},showDeleteteModal(){this.deleteModal=!this.deleteModal}}},R={class:"text-h5 text-center"},G={class:"form-input q-pb-md q-px-sm col-12"},O={class:"form-input q-pb-md q-px-sm col-6"},H={class:"form-input q-pb-md q-px-sm col-6"},J={class:"form-input q-pb-md q-px-sm col-12"},K={class:"form-input q-pb-md q-px-sm col-12"},W={class:"q-gutter-sm"};function X(n,e,u,x,l,i){return d(),g(D,null,[t(F,{class:"q-pa-sm q-py-md",flat:""},{default:a(()=>[t(v,{class:""},{default:a(()=>[o("div",R,[m(h(u.createAction?"Crear Nuevo":"Editar")+" Producto ",1),y("",!0)])]),_:1}),t(v,{class:"row"},{default:a(()=>[o("div",G,[e[7]||(e[7]=o("span",null,"Nombre",-1)),t(_,{standout:"",outlined:"",modelValue:l.dataForm.name,"onUpdate:modelValue":e[0]||(e[0]=s=>l.dataForm.name=s),dense:""},null,8,["modelValue"])]),o("div",O,[e[8]||(e[8]=o("span",null,"Precio",-1)),t(_,{type:"number",standout:"",outlined:"",modelValue:l.dataForm.price,"onUpdate:modelValue":e[1]||(e[1]=s=>l.dataForm.price=s),dense:""},null,8,["modelValue"])]),o("div",H,[e[9]||(e[9]=o("span",null,"Inventario",-1)),t(_,{label:"Cantidad de productos",type:"number",standout:"",outlined:"",modelValue:l.dataForm.inventory,"onUpdate:modelValue":e[2]||(e[2]=s=>l.dataForm.inventory=s),dense:""},null,8,["modelValue"])]),o("div",J,[e[10]||(e[10]=o("span",null,"Descripcion",-1)),t(_,{type:"textarea",standout:"",outlined:"",modelValue:l.dataForm.description,"onUpdate:modelValue":e[3]||(e[3]=s=>l.dataForm.description=s),dense:"","input-style":{height:"80px"}},null,8,["modelValue"])]),o("div",K,[e[11]||(e[11]=o("span",null,"Categorias de Producto",-1)),o("div",W,[(d(!0),g(D,null,P(l.categories,(s,r)=>(d(),p(I,{key:r,modelValue:l.dataForm.categories,"onUpdate:modelValue":e[4]||(e[4]=f=>l.dataForm.categories=f),val:s.value,label:s.label},null,8,["modelValue","val","label"]))),128))])])]),_:1}),t(q,{class:"flex justify-between"},{default:a(()=>[t(c,{label:u.createAction?"Crear":"Actualizar",color:"primary","no-caps":"",class:"",onClick:i.onSave},null,8,["label","onClick"]),u.createAction?w((d(),p(c,{key:0,label:"Cancelar",color:"negative","no-caps":"",class:""},null,512)),[[C]]):y("",!0),u.createAction?y("",!0):(d(),p(c,{key:1,label:"Eliminar",icon:"delete",color:"negative",flat:"",onClick:e[5]||(e[5]=s=>i.showDeleteteModal())}))]),_:1})]),_:1}),t(S,{modelValue:l.deleteModal,"onUpdate:modelValue":e[6]||(e[6]=s=>l.deleteModal=s),persistent:""},{default:a(()=>[t(F,{flat:"",bordered:""},{default:a(()=>[t(v,{horizontal:""},{default:a(()=>[t(v,{class:"q-pt-xs"},{default:a(()=>e[12]||(e[12]=[o("div",{class:"text-overline"},"\xA1Piensalo bien!",-1),o("div",{class:"text-caption text-grey"},"Recuerda que esta accion no se podra reversar",-1)])),_:1})]),_:1}),t(T),t(q,{align:"right"},{default:a(()=>[w(t(c,{flat:"",color:"negative",label:"Cancelar"},null,512),[[C]]),w(t(c,{flat:"",color:"primary",label:"Aceptar",onClick:i.onDelete},null,8,["onClick"]),[[C]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var Y=k(j,[["render",X]]);const b=U(),Z={components:{ProductsForm:Y},setup(){return{columns:[{name:"name",label:"Nombre",align:"center",field:"name"},{name:"description",label:"Descripcion",align:"center",field:"description"},{name:"price",label:"Precio",align:"center",field:"price"},{name:"inventory",label:"Inventario",align:"center",field:"inventory"},{name:"categories",label:"Categoria",align:"center",field:"categories"},{name:"pc-icon",label:"Editar",align:"center",field:"pc-icon"}]}},data(){return{data:this.getDefaultData(),showForm:!1,createAction:!0,confirm:!1,tableData:[]}},mounted(){console.log("Getting data..."),this.refreshData()},methods:{refreshData(){this.tableData=b.getData()},getDefaultData(){return{id:N(),name:"",description:"",price:0,inventory:0,categories:[]}},cleanFields(){this.data=this.getDefaultData()},openCreateModal(){this.cleanFields(),this.showForm=!0,this.createAction=!0},onEdit(n){this.showForm=!0,this.createAction=!1,this.data={...n}},onSave(){this.createAction?this.saveData():this.updateData(),this.refreshData(),this.$refs.formDialog.hide()},onDelete(n){this.deleteData(n),this.refreshData(),this.$refs.formDialog.hide()},saveData(){b.addData(this.data)},updateData(){b.updateData(this.data)},deleteData(n){b.deleteData(n)}}},$={class:"full-width text-right"},ee={class:"ellipsis",style:{"max-width":"140px"}},te={class:"flex wrap justify-evenly",style:{"max-width":"200px"}};function ae(n,e,u,x,l,i){const s=A("ProductsForm");return d(),g(D,null,[o("div",$,[t(c,{class:"q-my-md",color:"primary",label:"Crear Producto",onClick:i.openCreateModal},null,8,["onClick"])]),t(L,{rows:l.tableData,columns:x.columns,"row-key":"name",class:"full-width users-table shadow-6","table-header-class":"bg-primary text-white text-weight-bold"},{"body-cell-pc-icon":a(r=>[t(V,{props:r},{default:a(()=>[t(E,{size:"20px",name:"edit",class:"cursor-pointer text-primary",onClick:f=>i.onEdit(r.row)},{default:a(()=>[t(Q,{class:"bg-primary text-white"},{default:a(()=>e[1]||(e[1]=[m(" Editar Producto ")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-description":a(r=>[t(V,{props:r},{default:a(()=>[o("div",ee,[o("span",null,[m(h(r.row.description)+" ",1),t(Q,{anchor:"top left",self:"bottom left"},{default:a(()=>[m(h(r.row.description),1)]),_:2},1024)])])]),_:2},1032,["props"])]),"body-cell-categories":a(r=>[t(V,{props:r},{default:a(()=>[o("div",te,[(d(!0),g(D,null,P(r.row.categories,(f,M)=>(d(),p(z,{class:"q-mb-sm",key:M},{default:a(()=>[m(h(f),1)]),_:2},1024))),128))])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]),t(S,{ref:"formDialog",modelValue:l.showForm,"onUpdate:modelValue":e[0]||(e[0]=r=>l.showForm=r)},{default:a(()=>[t(F,{class:"full-width q-pa-md",style:{"max-width":"500px"}},{default:a(()=>[t(s,{userData:l.data,createAction:l.createAction,onSave:i.onSave,onDelete:i.onDelete},null,8,["userData","createAction","onSave","onDelete"])]),_:1})]),_:1},8,["modelValue"])],64)}var le=k(Z,[["render",ae],["__scopeId","data-v-0337e298"]]);const oe={components:{ProductsList:le}},se={class:"products-list full-width"};function re(n,e,u,x,l,i){const s=A("ProductsList");return d(),p(B,{class:"flex flex-center q-px-md q-py-lg"},{default:a(()=>[e[0]||(e[0]=o("div",{class:"text-h3 full-width text-center"},"Lista de Productos",-1)),o("div",se,[t(s)])]),_:1})}var he=k(oe,[["render",re],["__scopeId","data-v-2fd520ac"]]);export{he as default};
